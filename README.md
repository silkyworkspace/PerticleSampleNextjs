# Next.jsでパーティクルアニメーションのサンプルです

## 原理

1. **Z座標で奥行きを表現** - 数値が大きい = 奥、小さい = 手前
2. **遠近法で2D位置を計算** - 奥のものは小さく中心寄り、手前は大きく端寄り
3. **毎フレーム更新して動かす** - Z座標を減らす = 手前に近づく


## もう少し詳しく

### ステップ1: 3D空間の表現
```
パーティクル = { x: ?, y: ?, z: 1000 }
               奥行き ↑
```

### ステップ2: 遠近法で画面に投影
```javascript
scale = 画面幅 / z座標
// z が大きい（奥）→ scale 小さい → 中心近く
// z が小さい（手前）→ scale 大きい → 端に広がる

x = 中心X + cos(角度) × scale × 100
y = 中心Y + sin(角度) × scale × 100
```

**イメージ:**
```
奥 (z=1000) → ・     小さい点が中心近く
↓
↓ (z減っていく)
↓
手前 (z=10) → ━━━   大きい線が端に
```

### ステップ3: アニメーション
```javascript
毎フレーム:
  1. z を減らす (z -= speed)  // 手前に移動
  2. 新しい位置を計算
  3. 前の位置から線を引く   // 軌跡になる
  4. z <= 0 なら奥にリセット  // 無限ループ
```


## 数学的には

**遠近法（透視投影）の公式**
```
2D座標 = 3D座標 × (定数 / 奥行き)
```

この1行で3D風に見せています！


## まとめ

**「Z座標を減らしながら、遠近法で位置を計算して描画」**
